{{#if hasBlock}}
  {{yield
    (hash
      allColumnsAreHidden=allColumnsAreHidden
      columns-hidden=(
        component "models-table/columns-hidden"
        columnsCount=columnsCount
        messages=messages
        sendAction=sendAction
        themeInstance=themeInstance
      )
      row=(
        component "models-table/row"
        visibleProcessedColumns=visibleProcessedColumns
        messages=messages
        clickOnRow=clickOnRow
        sendAction=sendAction
        expandRow=expandRow
        collapseRow=collapseRow
        expandAllRows=expandAllRows
        collapseAllRows=collapseAllRows
        selectedItems=selectedItems
        expandedRowIndexes=expandedRowIndexes
        themeInstance=themeInstance
      )
      row-expand=(
        component "models-table/row-expand"
        expandedRowComponent=expandedRowComponent
        processedColumns=processedColumns
        messages=messages
        selectedItems=selectedItems
        visibleProcessedColumns=visibleProcessedColumns
        clickOnRow=clickOnRow
        sendAction=sendAction
        themeInstance=themeInstance
      )
      no-data=(
        component "models-table/no-data"
        messages=messages
        columnsCount=visibleProcessedColumns.length
        sendAction=sendAction
        themeInstance=themeInstance
      )
      visibleContent=visibleContent
      visibleProcessedColumns=visibleProcessedColumns
      expandedRowIndexes=expandedRowIndexes
      sendAction=sendAction
    )
  }}
{{else}}
  {{#if allColumnsAreHidden}}
    {{models-table/columns-hidden
      columnsCount=columnsCount
      messages=messages
      sendAction=sendAction
      themeInstance=themeInstance
    }}
  {{else}}
    {{#if visibleContent.length}}
      {{#each visibleContent as |record index|}}
        {{models-table/row
          record=record
          visibleProcessedColumns=visibleProcessedColumns
          index=index
          selectedItems=selectedItems
          messages=messages
          isSelected=(exists-in selectedItems record)
          expandedRowIndexes=expandedRowIndexes
          clickOnRow=clickOnRow
          sendAction=sendAction
          expandRow=expandRow
          collapseRow=collapseRow
          expandAllRows=expandAllRows
          collapseAllRows=collapseAllRows
          themeInstance=themeInstance
        }}
        {{#if (exists-in expandedRowIndexes index)}}
          {{models-table/row-expand
            expandedRowComponent=expandedRowComponent
            record=record
            processedColumns=processedColumns
            messages=messages
            index=index
            selectedItems=selectedItems
            visibleProcessedColumns=visibleProcessedColumns
            clickOnRow=clickOnRow
            sendAction=sendAction
            themeInstance=themeInstance
          }}
        {{/if}}
      {{/each}}
    {{else}}
      {{models-table/no-data
        messages=messages
        columnsCount=visibleProcessedColumns.length
        sendAction=sendAction
        themeInstance=themeInstance
      }}
    {{/if}}
  {{/if}}
{{/if}}